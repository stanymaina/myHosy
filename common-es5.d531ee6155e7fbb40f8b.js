!function(){"use strict";function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}function e(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==e)return;var i,r,a=[],o=!0,u=!1;try{for(e=e.call(t);!(o=(i=e.next()).done)&&(a.push(i.value),!n||a.length!==n);o=!0);}catch(s){u=!0,r=s}finally{try{o||null==e.return||e.return()}finally{if(u)throw r}}return a}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return i(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkmyHosy=self.webpackChunkmyHosy||[]).push([[592],{46655:function(t,n,e){e.d(n,{Lg:function(){return a},$l:function(){return o},Cl:function(){return u},yi:function(){return s},CX:function(){return c}});var i,a=((i=a||(a={})).PatientRequested="[View Patient Page] Patient Requested",i.PatientLoaded="[Patients API] Patient Loaded",i.AllPatientsRequested="[Patients Home Page] All Patients Requested",i.AllPatientsLoaded="[Patients API] All Patients Loaded",i.PatientSaved="[Edit Patient Dialog] Patient Saved",a),o=function t(n){r(this,t),this.payload=n,this.type=a.PatientRequested},u=function t(n){r(this,t),this.payload=n,this.type=a.PatientLoaded},s=function t(){r(this,t),this.type=a.AllPatientsRequested},c=function t(n){r(this,t),this.payload=n,this.type=a.AllPatientsLoaded}},5559:function(t,n,i){i.d(n,{a:function(){return P}});var a=i(64762),o=i(91601),u=i(46655),s=i(19773),c=i(88002),l=i(57057),f=i(45435),d=i(23065),h=i(4242),p=i(37716),y=i(62827),P=function t(n,i,a){var p=this;r(this,t),this.actions$=n,this.patientsService=i,this.store=a,this.loadPatient$=this.actions$.pipe((0,o.l4)(u.Lg.PatientRequested),(0,s.zg)(function(t){return p.patientsService.findPatientById(t.payload.patientId)}),(0,c.U)(function(t){return new u.Cl({patient:t})})),this.loadAllPatients$=this.actions$.pipe((0,o.l4)(u.Lg.AllPatientsRequested),(0,l.M)(this.store.pipe((0,d.Ys)(h.AU))),(0,f.h)(function(t){return!e(t,2)[1]}),(0,s.zg)(function(){return p.patientsService.findAllPatients()}),(0,c.U)(function(t){return new u.CX({patients:t})}))};P.\u0275fac=function(t){return new(t||P)(p.\u0275\u0275inject(o.eX),p.\u0275\u0275inject(y.$),p.\u0275\u0275inject(d.yh))},P.\u0275prov=p.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),(0,a.gn)([(0,o.Qm)()],P.prototype,"loadPatient$",void 0),(0,a.gn)([(0,o.Qm)()],P.prototype,"loadAllPatients$",void 0)},65476:function(t,n,e){e.d(n,{Sx:function(){return u},td:function(){return s}});var i=e(80273),r=e(46655),a=(0,i.H)(),o=a.getInitialState({allPatientsLoaded:!1});function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case r.Lg.PatientLoaded:return a.addOne(n.payload.patient,t);case r.Lg.AllPatientsLoaded:return a.setAll(n.payload.patients,Object.assign(Object.assign({},t),{allPatientsLoaded:!0}));case r.Lg.PatientSaved:return a.updateOne(n.payload.patient,t);default:return t}}var s=a.getSelectors().selectAll},10758:function(t,e,i){i.d(e,{N:function(){return h}});var a,o=i(23065),u=i(68307),s=i(45435),c=i(28049),l=i(4242),f=i(46655),d=i(37716),h=((a=function(){function t(n){r(this,t),this.store=n}return n(t,[{key:"resolve",value:function(t,n){var e=this,i=t.params.id;return this.store.pipe((0,o.Ys)((0,l.XX)(i)),(0,u.b)(function(t){t||e.store.dispatch(new f.$l({patientId:i}))}),(0,s.h)(function(t){return!!t}),(0,c.P)())}}]),t}()).\u0275fac=function(t){return new(t||a)(d.\u0275\u0275inject(o.yh))},a.\u0275prov=d.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a)},4242:function(t,n,e){e.d(n,{XX:function(){return o},QD:function(){return u},AU:function(){return s}});var i=e(23065),r=e(65476),a=(0,i.ZF)("patients"),o=function(t){return(0,i.P1)(a,function(n){return n.entities[t]})},u=(0,i.P1)(a,r.td),s=(0,i.P1)(a,function(t){return t.allPatientsLoaded})},62827:function(t,e,i){i.d(e,{$:function(){return d}});var a,o=i(88002),u=i(37716),s=i(91841),c=i(486),l=function t(n,e,i,a,o,u,s,c,l,f,d,h){r(this,t),this.id=n,this.user_id=e,this.name=i,this.phone=a,this.email=o,this.sex=u,this.birth_date=s,this.blood_group=c,this.id_no=l,this.nhif_no=f,this.usr_img=d,this.doctor_id=h},f=((a=function(){function t(){r(this,t)}return n(t,[{key:"adapt",value:function(t){return new l(t.id,t.user_id,t.user.first_name+" "+t.user.other_name,t.user.phone1_code+t.user.phone1_number,t.user.email,t.user.sex,t.user.birth_date,t.user.blood_group,t.user.id_no,t.user.nhif_no,t.user.usr_img,t.doctor_id)}}]),t}()).\u0275fac=function(t){return new(t||a)},a.\u0275prov=u.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a),d=function(){var t=function(){function t(n,e,i){r(this,t),this.http=n,this.jarwis=e,this.adapter=i}return n(t,[{key:"findPatientById",value:function(t){return this.http.get(this.jarwis.apiUrl+"/patients/".concat(t))}},{key:"findAllPatients",value:function(){var t=this;return this.jarwis.getURI("patients").pipe((0,o.U)(function(n){return n.data.map(function(n){return t.adapter.adapt(n)})}))}},{key:"savePatient",value:function(t,n){return this.http.put("/api/patients/"+t,n)}}]),t}();return t.\u0275fac=function(n){return new(n||t)(u.\u0275\u0275inject(s.eN),u.\u0275\u0275inject(c.R),u.\u0275\u0275inject(f))},t.\u0275prov=u.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t}()}}])}();