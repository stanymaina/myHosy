!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(self.webpackChunkmyHosy=self.webpackChunkmyHosy||[]).push([[734],{62734:function(t,r,i){i.r(r),i.d(r,{PatientModule:function(){return q}});var o=i(38583),a=i(54550),s=i(76185),l=i(55171),d=i(3679),c=i(95987),m=i(55477),u=i(23065),p=i(46258),h=i(68307),f=i(46655),b=i(18541),g=i(4242),v=i(37716),y=i(98152),C=i(486),I=i(52849),P=i(13373);function E(e,t){1&e&&v.\u0275\u0275element(0,"ngx-user-edit-form",5),2&e&&v.\u0275\u0275property("form_type","add")}function S(e,t){if(1&e&&(v.\u0275\u0275elementStart(0,"div",0),v.\u0275\u0275template(1,E,1,1,"ngx-user-edit-form",4),v.\u0275\u0275elementEnd()),2&e){var n=v.\u0275\u0275nextContext();v.\u0275\u0275advance(1),v.\u0275\u0275property("ngIf",n.showAddUser)}}function w(e,t){if(1&e&&(v.\u0275\u0275elementStart(0,"nb-option",22),v.\u0275\u0275text(1),v.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;v.\u0275\u0275property("value",n.id),v.\u0275\u0275advance(1),v.\u0275\u0275textInterpolate(n.name)}}var O=function(e,t){return[e,t]};function _(e,t){if(1&e){var n=v.\u0275\u0275getCurrentView();v.\u0275\u0275elementStart(0,"div",0),v.\u0275\u0275elementStart(1,"nb-card"),v.\u0275\u0275elementStart(2,"nb-card-header"),v.\u0275\u0275text(3,"Add Patient"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(4,"nb-card-body"),v.\u0275\u0275elementStart(5,"div",6),v.\u0275\u0275elementStart(6,"div",7),v.\u0275\u0275elementStart(7,"label",8),v.\u0275\u0275text(8,"First Name"),v.\u0275\u0275elementEnd(),v.\u0275\u0275element(9,"input",9),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(10,"div",7),v.\u0275\u0275elementStart(11,"label",10),v.\u0275\u0275text(12,"Other Names"),v.\u0275\u0275elementEnd(),v.\u0275\u0275element(13,"input",11),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(14,"div",7),v.\u0275\u0275elementStart(15,"label",12),v.\u0275\u0275text(16,"Email address"),v.\u0275\u0275elementEnd(),v.\u0275\u0275element(17,"input",13),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(18,"div",7),v.\u0275\u0275elementStart(19,"label",14),v.\u0275\u0275text(20,"Phone Number"),v.\u0275\u0275elementEnd(),v.\u0275\u0275element(21,"ngx-intl-tel-input",15),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(22,"div",7),v.\u0275\u0275elementStart(23,"label",16),v.\u0275\u0275text(24,"Ref Doctor"),v.\u0275\u0275elementEnd(),v.\u0275\u0275element(25,"br"),v.\u0275\u0275elementStart(26,"nb-select",17),v.\u0275\u0275template(27,w,2,2,"nb-option",18),v.\u0275\u0275pipe(28,"async"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(29,"div",7),v.\u0275\u0275elementStart(30,"label",19),v.\u0275\u0275text(31,"Age"),v.\u0275\u0275elementEnd(),v.\u0275\u0275element(32,"br"),v.\u0275\u0275element(33,"input",20),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(34,"div",7),v.\u0275\u0275elementStart(35,"nb-checkbox"),v.\u0275\u0275text(36,"Agree to Terms."),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(37,"div",7),v.\u0275\u0275elementStart(38,"button",21),v.\u0275\u0275listener("click",function(){return v.\u0275\u0275restoreView(n),v.\u0275\u0275nextContext().addPatient()}),v.\u0275\u0275text(39," Submit "),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd()}if(2&e){var r=v.\u0275\u0275nextContext();v.\u0275\u0275advance(5),v.\u0275\u0275property("formGroup",r.patientAddForm),v.\u0275\u0275advance(4),v.\u0275\u0275propertyInterpolate("value",r.firstName),v.\u0275\u0275advance(4),v.\u0275\u0275propertyInterpolate("value",r.LastName),v.\u0275\u0275advance(4),v.\u0275\u0275propertyInterpolate("value",r.Emaile),v.\u0275\u0275advance(4),v.\u0275\u0275property("cssClass","custom")("preferredCountries",r.preferredCountries)("enableAutoCountrySelect",!0)("enablePlaceholder",!0)("searchCountryFlag",!0)("searchCountryField",v.\u0275\u0275pureFunction2(20,O,r.SearchCountryField.Iso2,r.SearchCountryField.Name))("selectFirstCountry",!1)("selectedCountryISO",r.CountryISO.Kenya)("maxLength",15)("phoneValidation",!0)("separateDialCode",r.separateDialCode)("numberFormat",r.PhoneNumberFormat.National),v.\u0275\u0275advance(6),v.\u0275\u0275property("ngForOf",v.\u0275\u0275pipeBind1(28,18,r.allDoctors$)),v.\u0275\u0275advance(6),v.\u0275\u0275propertyInterpolate("value",r.Age)}}var x,F=[{path:"",component:(x=function(){function t(){e(this,t),this.tabs=[{title:"Patient List",route:"/0/patients/list"},{title:"Add Patient",route:"/0/patients/register"},{title:"Patient Documents",route:"/0/patients/documents"}]}return n(t,[{key:"ngOnInit",value:function(){}}]),t}(),x.\u0275fac=function(e){return new(e||x)},x.\u0275cmp=v.\u0275\u0275defineComponent({type:x,selectors:[["ngx-patient"]],decls:4,vars:1,consts:[[1,"row"],[1,"col-12"],["size","small"],["fullWidth","",3,"tabs"]],template:function(e,t){1&e&&(v.\u0275\u0275elementStart(0,"div",0),v.\u0275\u0275elementStart(1,"div",1),v.\u0275\u0275elementStart(2,"nb-card",2),v.\u0275\u0275element(3,"nb-route-tabset",3),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd()),2&e&&(v.\u0275\u0275advance(3),v.\u0275\u0275property("tabs",t.tabs))},directives:[a.Asz,a.l0$],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}.nb-theme-dark   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}.nb-theme-corporate   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}"]}),x),children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:function(){var t=function(){function t(n,r){var i=this;e(this,t),this.service=n,this.store=r,this.settings={add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{id:{title:"#",type:"number"},name:{title:"Name",type:"string"},phone:{title:"Phone",type:"string"},id_no:{title:"ID No.",type:"number"},nhif_no:{title:"Due Balance",type:"string"}}},this.source=new s.nC,this.store.pipe((0,u.Ys)(g.AU),(0,h.b)(function(e){e||i.store.dispatch(new f.yi)})).subscribe(),this.allPatients$=this.store.pipe((0,u.Ys)(g.QD))}return n(t,[{key:"onDeleteConfirm",value:function(e){window.confirm("Are you sure you want to delete?")?e.confirm.resolve():e.confirm.reject()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(v.\u0275\u0275directiveInject(y.B),v.\u0275\u0275directiveInject(u.yh))},t.\u0275cmp=v.\u0275\u0275defineComponent({type:t,selectors:[["ngx-patient-list"]],decls:6,vars:4,consts:[[3,"settings","source","deleteConfirm"]],template:function(e,t){1&e&&(v.\u0275\u0275elementStart(0,"nb-card"),v.\u0275\u0275elementStart(1,"nb-card-header"),v.\u0275\u0275text(2," Patient's Table "),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(3,"nb-card-body"),v.\u0275\u0275elementStart(4,"ng2-smart-table",0),v.\u0275\u0275listener("deleteConfirm",function(e){return t.onDeleteConfirm(e)}),v.\u0275\u0275pipe(5,"async"),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd()),2&e&&(v.\u0275\u0275advance(4),v.\u0275\u0275property("settings",t.settings)("source",v.\u0275\u0275pipeBind1(5,2,t.allPatients$)))},directives:[a.Asz,a.ndF,a.yKW,s.T5],pipes:[o.Ov],styles:[""]}),t}()},{path:"register",component:function(){var t=function(){function t(n,r,i){e(this,t),this.store=n,this.formBuilder=r,this.Jarwis=i,this.userId=null,this.showAddUser=!1,this.separateDialCode=!1,this.SearchCountryField=p.wX,this.CountryISO=p.HT,this.PhoneNumberFormat=p.M9,this.preferredCountries=[p.HT.Kenya,p.HT.UnitedStates,p.HT.UnitedKingdom],this.showAddPatient=!1,this.allDoctors$=this.store.pipe((0,u.Ys)(b.Bv)),this.userId=new d.NI("",[d.kI.required]),this.departmentId=new d.NI("",[d.kI.required]),this.doctorProfile=new d.NI("",[d.kI.required]),this.patientAddForm=r.group({doctor_id:this.departmentId,age:this.doctorProfile,user_id:this.userId})}return n(t,[{key:"userFound",value:function(e){console.log(e),e.isUser?(this.showAddPatient=!1,this.showAddUser=!0):(this.firstName=e.id.first_name,this.LastName=e.id.other_name,this.Emaile=e.id.email,this.phone=e.id.phone1_number,this.patientAddForm.value.user_id=e.id.id,this.patientAddForm=this.formBuilder.group({doctor_id:this.departmentId,age:this.doctorProfile,user_id:e.id.id}),this.showAddPatient=!0,this.showAddUser=!1)}},{key:"addPatient",value:function(){var e=this;this.Jarwis.postURI("patients",this.patientAddForm.value).subscribe(function(t){console.log(t),e.showAddPatient=!1,e.patientAddForm.reset()},function(e){console.log("Error occured: "+e)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(v.\u0275\u0275directiveInject(u.yh),v.\u0275\u0275directiveInject(d.qu),v.\u0275\u0275directiveInject(C.R))},t.\u0275cmp=v.\u0275\u0275defineComponent({type:t,selectors:[["ngx-register-patient"]],decls:5,vars:2,consts:[[1,"row"],[1,"col-12"],[3,"newItemEvent"],["class","row",4,"ngIf"],[3,"form_type",4,"ngIf"],[3,"form_type"],[1,"row",3,"formGroup"],[1,"col-6","form-group"],["for","InputFirstName",1,"label"],["type","text","nbInput","","fullWidth","","id","InputFirstName","placeholder","First Name",3,"value"],["for","InputOtherNames",1,"label"],["type","text","nbInput","","fullWidth","","id","InputOtherNames",3,"value"],["for","InputEmail1",1,"label"],["type","email","nbInput","","fullWidth","","id","InputEmail1","placeholder","Email",3,"value"],["for","InputIDnoBirthCert",1,"label"],["nbInput","","name","phone",3,"cssClass","preferredCountries","enableAutoCountrySelect","enablePlaceholder","searchCountryFlag","searchCountryField","selectFirstCountry","selectedCountryISO","maxLength","phoneValidation","separateDialCode","numberFormat"],["for","InputDepartment",1,"label"],["fullWidth","","formControlName","doctor_id"],["fullWidth","",3,"value",4,"ngFor","ngForOf"],["for","InputAge",1,"label"],["type","number","nbInput","","fullWidth","","id","InputAge","placeholder","Age","formControlName","age",3,"value"],["type","submit","nbButton","","status","danger",3,"click"],["fullWidth","",3,"value"]],template:function(e,t){1&e&&(v.\u0275\u0275elementStart(0,"div",0),v.\u0275\u0275elementStart(1,"div",1),v.\u0275\u0275elementStart(2,"ngx-user-search-form",2),v.\u0275\u0275listener("newItemEvent",function(e){return t.userFound(e)}),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275template(3,S,2,1,"div",3),v.\u0275\u0275template(4,_,40,23,"div",3)),2&e&&(v.\u0275\u0275advance(3),v.\u0275\u0275property("ngIf",t.showAddUser),v.\u0275\u0275advance(1),v.\u0275\u0275property("ngIf",t.showAddPatient))},directives:[I.u,o.O5,P.T,a.Asz,a.ndF,a.yKW,d.JL,d.sg,a.h8i,p.FV,a.rs,d.JJ,p.mh,d.u,o.sg,d.wV,d.Fj,a.NTf,a.DPz,a.q51],pipes:[o.Ov],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}.nb-theme-dark   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}.nb-theme-corporate   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}nb-tabset[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]     ngx-tab1, [_nghost-%COMP%]     ngx-tab2{display:block;padding:1rem 2rem}nb-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}"]}),t}()},{path:"documents",component:function(){var t=function(){function t(n){e(this,t),this.service=n,this.settings={add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{id:{title:"ID",type:"number"},firstName:{title:"First Name",type:"string"},lastName:{title:"Last Name",type:"string"},username:{title:"Username",type:"string"},email:{title:"E-mail",type:"string"},age:{title:"Age",type:"number"}}},this.source=new s.nC;var r=this.service.getData();this.source.load(r)}return n(t,[{key:"onDeleteConfirm",value:function(e){window.confirm("Are you sure you want to delete?")?e.confirm.resolve():e.confirm.reject()}},{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(v.\u0275\u0275directiveInject(y.B))},t.\u0275cmp=v.\u0275\u0275defineComponent({type:t,selectors:[["ngx-patient-documents"]],decls:5,vars:2,consts:[[3,"settings","source","deleteConfirm"]],template:function(e,t){1&e&&(v.\u0275\u0275elementStart(0,"nb-card"),v.\u0275\u0275elementStart(1,"nb-card-header"),v.\u0275\u0275text(2," Patient's Documents "),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementStart(3,"nb-card-body"),v.\u0275\u0275elementStart(4,"ng2-smart-table",0),v.\u0275\u0275listener("deleteConfirm",function(e){return t.onDeleteConfirm(e)}),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd(),v.\u0275\u0275elementEnd()),2&e&&(v.\u0275\u0275advance(4),v.\u0275\u0275property("settings",t.settings)("source",t.source))},directives:[a.Asz,a.ndF,a.yKW,s.T5],styles:[""]}),t}()},{path:"**",component:m.w}]}],A=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=v.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=v.\u0275\u0275defineInjector({imports:[[c.Bz.forChild(F)],c.Bz]}),t}(),N=i(62827),M=i(10758),k=i(65476),B=i(45887),D=i(5559),j=i(40810),T=i(80541),W=i(2678),U=i(1398),z=i(36686),q=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=v.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=v.\u0275\u0275defineInjector({providers:[N.$,M.N,U.e,W.C],imports:[[o.ez,A,a.EoG,d.u5,a.nKr,a.T2N,a.zyh,a.MfT,a._WB,a.YNG,a.IIj,p.J7,d.UX,l.R,s.ne,z.q,u.Aw.forFeature("patients",k.Sx),B.sQ.forFeature([D.a]),u.Aw.forFeature("doctors",T.qf),B.sQ.forFeature([j.e])]]}),t}()}}])}();