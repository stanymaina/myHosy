!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(self.webpackChunkmyHosy=self.webpackChunkmyHosy||[]).push([[734],{62734:function(t,r,i){i.r(r),i.d(r,{PatientModule:function(){return z}});var o=i(38583),a=i(54550),s=i(76185),l=i(55171),d=i(3679),c=i(95987),m=i(55477),u=i(23065),p=i(46258),h=i(46655),f=i(18541),b=i(4242),g=i(37716),v=i(98152),C=i(486),y=i(52849),I=i(13373);function P(e,t){1&e&&g.\u0275\u0275element(0,"ngx-user-edit-form")}function E(e,t){if(1&e&&(g.\u0275\u0275elementStart(0,"div",0),g.\u0275\u0275template(1,P,1,0,"ngx-user-edit-form",4),g.\u0275\u0275elementEnd()),2&e){var n=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",n.showAddUser)}}function S(e,t){if(1&e&&(g.\u0275\u0275elementStart(0,"nb-option",21),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;g.\u0275\u0275property("value",n.id),g.\u0275\u0275advance(1),g.\u0275\u0275textInterpolate(n.name)}}var w=function(e,t){return[e,t]};function O(e,t){if(1&e){var n=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"div",0),g.\u0275\u0275elementStart(1,"nb-card"),g.\u0275\u0275elementStart(2,"nb-card-header"),g.\u0275\u0275text(3,"Add Patient"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(4,"nb-card-body"),g.\u0275\u0275elementStart(5,"div",5),g.\u0275\u0275elementStart(6,"div",6),g.\u0275\u0275elementStart(7,"label",7),g.\u0275\u0275text(8,"First Name"),g.\u0275\u0275elementEnd(),g.\u0275\u0275element(9,"input",8),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(10,"div",6),g.\u0275\u0275elementStart(11,"label",9),g.\u0275\u0275text(12,"Other Names"),g.\u0275\u0275elementEnd(),g.\u0275\u0275element(13,"input",10),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(14,"div",6),g.\u0275\u0275elementStart(15,"label",11),g.\u0275\u0275text(16,"Email address"),g.\u0275\u0275elementEnd(),g.\u0275\u0275element(17,"input",12),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(18,"div",6),g.\u0275\u0275elementStart(19,"label",13),g.\u0275\u0275text(20,"Phone Number"),g.\u0275\u0275elementEnd(),g.\u0275\u0275element(21,"ngx-intl-tel-input",14),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(22,"div",6),g.\u0275\u0275elementStart(23,"label",15),g.\u0275\u0275text(24,"Ref Doctor"),g.\u0275\u0275elementEnd(),g.\u0275\u0275element(25,"br"),g.\u0275\u0275elementStart(26,"nb-select",16),g.\u0275\u0275template(27,S,2,2,"nb-option",17),g.\u0275\u0275pipe(28,"async"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(29,"div",6),g.\u0275\u0275elementStart(30,"label",18),g.\u0275\u0275text(31,"Age"),g.\u0275\u0275elementEnd(),g.\u0275\u0275element(32,"br"),g.\u0275\u0275element(33,"input",19),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(34,"div",6),g.\u0275\u0275elementStart(35,"nb-checkbox"),g.\u0275\u0275text(36,"Agree to Terms."),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(37,"div",6),g.\u0275\u0275elementStart(38,"button",20),g.\u0275\u0275listener("click",function(){return g.\u0275\u0275restoreView(n),g.\u0275\u0275nextContext().addPatient()}),g.\u0275\u0275text(39," Submit "),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd()}if(2&e){var r=g.\u0275\u0275nextContext();g.\u0275\u0275advance(5),g.\u0275\u0275property("formGroup",r.patientAddForm),g.\u0275\u0275advance(4),g.\u0275\u0275propertyInterpolate("value",r.firstName),g.\u0275\u0275advance(4),g.\u0275\u0275propertyInterpolate("value",r.LastName),g.\u0275\u0275advance(4),g.\u0275\u0275propertyInterpolate("value",r.Emaile),g.\u0275\u0275advance(4),g.\u0275\u0275property("cssClass","custom")("preferredCountries",r.preferredCountries)("enableAutoCountrySelect",!0)("enablePlaceholder",!0)("searchCountryFlag",!0)("searchCountryField",g.\u0275\u0275pureFunction2(20,w,r.SearchCountryField.Iso2,r.SearchCountryField.Name))("selectFirstCountry",!1)("selectedCountryISO",r.CountryISO.Kenya)("maxLength",15)("phoneValidation",!0)("separateDialCode",r.separateDialCode)("numberFormat",r.PhoneNumberFormat.National),g.\u0275\u0275advance(6),g.\u0275\u0275property("ngForOf",g.\u0275\u0275pipeBind1(28,18,r.allDoctors$)),g.\u0275\u0275advance(6),g.\u0275\u0275propertyInterpolate("value",r.Age)}}var x,F=[{path:"",component:(x=function(){function t(){e(this,t),this.tabs=[{title:"Patient List",route:"/0/patients/list"},{title:"Add Patient",route:"/0/patients/register"},{title:"Patient Documents",route:"/0/patients/documents"}]}return n(t,[{key:"ngOnInit",value:function(){}}]),t}(),x.\u0275fac=function(e){return new(e||x)},x.\u0275cmp=g.\u0275\u0275defineComponent({type:x,selectors:[["ngx-patient"]],decls:4,vars:1,consts:[[1,"row"],[1,"col-12"],["size","small"],["fullWidth","",3,"tabs"]],template:function(e,t){1&e&&(g.\u0275\u0275elementStart(0,"div",0),g.\u0275\u0275elementStart(1,"div",1),g.\u0275\u0275elementStart(2,"nb-card",2),g.\u0275\u0275element(3,"nb-route-tabset",3),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd()),2&e&&(g.\u0275\u0275advance(3),g.\u0275\u0275property("tabs",t.tabs))},directives:[a.Asz,a.l0$],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}.nb-theme-dark   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}.nb-theme-corporate   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}"]}),x),children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:function(){var t=function(){function t(n,r){e(this,t),this.service=n,this.store=r,this.settings={add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{id:{title:"#",type:"number"},name:{title:"Name",type:"string"},phone:{title:"Phone",type:"string"},id_no:{title:"ID No.",type:"number"},nhif_no:{title:"Due Balance",type:"string"}}},this.source=new s.nC,this.store.dispatch(new h.yi),this.allPatients$=this.store.pipe((0,u.Ys)(b.QD))}return n(t,[{key:"onDeleteConfirm",value:function(e){window.confirm("Are you sure you want to delete?")?e.confirm.resolve():e.confirm.reject()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.\u0275\u0275directiveInject(v.B),g.\u0275\u0275directiveInject(u.yh))},t.\u0275cmp=g.\u0275\u0275defineComponent({type:t,selectors:[["ngx-patient-list"]],decls:6,vars:4,consts:[[3,"settings","source","deleteConfirm"]],template:function(e,t){1&e&&(g.\u0275\u0275elementStart(0,"nb-card"),g.\u0275\u0275elementStart(1,"nb-card-header"),g.\u0275\u0275text(2," Patient's Table "),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(3,"nb-card-body"),g.\u0275\u0275elementStart(4,"ng2-smart-table",0),g.\u0275\u0275listener("deleteConfirm",function(e){return t.onDeleteConfirm(e)}),g.\u0275\u0275pipe(5,"async"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd()),2&e&&(g.\u0275\u0275advance(4),g.\u0275\u0275property("settings",t.settings)("source",g.\u0275\u0275pipeBind1(5,2,t.allPatients$)))},directives:[a.Asz,a.ndF,a.yKW,s.T5],pipes:[o.Ov],styles:[""]}),t}()},{path:"register",component:function(){var t=function(){function t(n,r,i){e(this,t),this.store=n,this.formBuilder=r,this.Jarwis=i,this.userId=null,this.showAddUser=!1,this.separateDialCode=!1,this.SearchCountryField=p.wX,this.CountryISO=p.HT,this.PhoneNumberFormat=p.M9,this.preferredCountries=[p.HT.Kenya,p.HT.UnitedStates,p.HT.UnitedKingdom],this.showAddPatient=!1,this.allDoctors$=this.store.pipe((0,u.Ys)(f.Bv)),this.userId=new d.NI("",[d.kI.required]),this.departmentId=new d.NI("",[d.kI.required]),this.doctorProfile=new d.NI("",[d.kI.required]),this.patientAddForm=r.group({doctor_id:this.departmentId,age:this.doctorProfile,user_id:this.userId})}return n(t,[{key:"userFound",value:function(e){console.log(e),e.isUser?(this.showAddPatient=!1,this.showAddUser=!0):(this.firstName=e.id.first_name,this.LastName=e.id.other_name,this.Emaile=e.id.email,this.phone=e.id.phone1_number,this.patientAddForm.value.user_id=e.id.id,this.patientAddForm=this.formBuilder.group({doctor_id:this.departmentId,age:this.doctorProfile,user_id:e.id.id}),this.showAddPatient=!0,this.showAddUser=!1)}},{key:"addPatient",value:function(){var e=this;this.Jarwis.postURI("patients",this.patientAddForm.value).subscribe(function(t){console.log(t),e.showAddPatient=!1,e.patientAddForm.reset()},function(e){console.log("Error occured: "+e)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.\u0275\u0275directiveInject(u.yh),g.\u0275\u0275directiveInject(d.qu),g.\u0275\u0275directiveInject(C.R))},t.\u0275cmp=g.\u0275\u0275defineComponent({type:t,selectors:[["ngx-register-patient"]],decls:5,vars:2,consts:[[1,"row"],[1,"col-12"],[3,"newItemEvent"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"row",3,"formGroup"],[1,"col-6","form-group"],["for","InputFirstName",1,"label"],["type","text","nbInput","","fullWidth","","id","InputFirstName","placeholder","First Name",3,"value"],["for","InputOtherNames",1,"label"],["type","text","nbInput","","fullWidth","","id","InputOtherNames",3,"value"],["for","InputEmail1",1,"label"],["type","email","nbInput","","fullWidth","","id","InputEmail1","placeholder","Email",3,"value"],["for","InputIDnoBirthCert",1,"label"],["nbInput","","name","phone",3,"cssClass","preferredCountries","enableAutoCountrySelect","enablePlaceholder","searchCountryFlag","searchCountryField","selectFirstCountry","selectedCountryISO","maxLength","phoneValidation","separateDialCode","numberFormat"],["for","InputDepartment",1,"label"],["fullWidth","","formControlName","doctor_id"],["fullWidth","",3,"value",4,"ngFor","ngForOf"],["for","InputAge",1,"label"],["type","number","nbInput","","fullWidth","","id","InputAge","placeholder","Age","formControlName","age",3,"value"],["type","submit","nbButton","","status","danger",3,"click"],["fullWidth","",3,"value"]],template:function(e,t){1&e&&(g.\u0275\u0275elementStart(0,"div",0),g.\u0275\u0275elementStart(1,"div",1),g.\u0275\u0275elementStart(2,"ngx-user-search-form",2),g.\u0275\u0275listener("newItemEvent",function(e){return t.userFound(e)}),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275template(3,E,2,1,"div",3),g.\u0275\u0275template(4,O,40,23,"div",3)),2&e&&(g.\u0275\u0275advance(3),g.\u0275\u0275property("ngIf",t.showAddUser),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",t.showAddPatient))},directives:[y.u,o.O5,I.T,a.Asz,a.ndF,a.yKW,d.JL,d.sg,a.h8i,p.FV,a.rs,d.JJ,p.mh,d.u,o.sg,d.wV,d.Fj,a.NTf,a.DPz,a.q51],pipes:[o.Ov],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}.nb-theme-dark   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}.nb-theme-corporate   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}nb-tabset[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]     ngx-tab1, [_nghost-%COMP%]     ngx-tab2{display:block;padding:1rem 2rem}nb-checkbox[_ngcontent-%COMP%]{margin-bottom:1rem}.form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}nb-card.inline-form-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding-bottom:0}"]}),t}()},{path:"documents",component:function(){var t=function(){function t(n){e(this,t),this.service=n,this.settings={add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{id:{title:"ID",type:"number"},firstName:{title:"First Name",type:"string"},lastName:{title:"Last Name",type:"string"},username:{title:"Username",type:"string"},email:{title:"E-mail",type:"string"},age:{title:"Age",type:"number"}}},this.source=new s.nC;var r=this.service.getData();this.source.load(r)}return n(t,[{key:"onDeleteConfirm",value:function(e){window.confirm("Are you sure you want to delete?")?e.confirm.resolve():e.confirm.reject()}},{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.\u0275\u0275directiveInject(v.B))},t.\u0275cmp=g.\u0275\u0275defineComponent({type:t,selectors:[["ngx-patient-documents"]],decls:5,vars:2,consts:[[3,"settings","source","deleteConfirm"]],template:function(e,t){1&e&&(g.\u0275\u0275elementStart(0,"nb-card"),g.\u0275\u0275elementStart(1,"nb-card-header"),g.\u0275\u0275text(2," Patient's Documents "),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(3,"nb-card-body"),g.\u0275\u0275elementStart(4,"ng2-smart-table",0),g.\u0275\u0275listener("deleteConfirm",function(e){return t.onDeleteConfirm(e)}),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementEnd()),2&e&&(g.\u0275\u0275advance(4),g.\u0275\u0275property("settings",t.settings)("source",t.source))},directives:[a.Asz,a.ndF,a.yKW,s.T5],styles:[""]}),t}()},{path:"**",component:m.w}]}],_=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=g.\u0275\u0275defineInjector({imports:[[c.Bz.forChild(F)],c.Bz]}),t}(),A=i(62827),N=i(10758),M=i(65476),k=i(91601),B=i(5559),D=i(40810),j=i(80541),T=i(2678),W=i(1398),U=i(47552),z=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=g.\u0275\u0275defineInjector({providers:[A.$,N.N,W.e,T.C],imports:[[o.ez,_,a.EoG,d.u5,a.nKr,a.T2N,a.zyh,a.MfT,a._WB,a.YNG,a.IIj,p.J7,d.UX,l.R,s.ne,U.q,u.Aw.forFeature("patients",M.Sx),k.sQ.forFeature([B.a]),u.Aw.forFeature("doctors",j.qf),k.sQ.forFeature([D.e])]]}),t}()}}])}();