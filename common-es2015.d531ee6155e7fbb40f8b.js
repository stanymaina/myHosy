"use strict";(self.webpackChunkmyHosy=self.webpackChunkmyHosy||[]).push([[592],{46655:function(t,e,n){n.d(e,{Lg:function(){return i},$l:function(){return a},Cl:function(){return s},yi:function(){return r},CX:function(){return o}});var i=(()=>{return(t=i||(i={})).PatientRequested="[View Patient Page] Patient Requested",t.PatientLoaded="[Patients API] Patient Loaded",t.AllPatientsRequested="[Patients Home Page] All Patients Requested",t.AllPatientsLoaded="[Patients API] All Patients Loaded",t.PatientSaved="[Edit Patient Dialog] Patient Saved",i;var t})();class a{constructor(t){this.payload=t,this.type=i.PatientRequested}}class s{constructor(t){this.payload=t,this.type=i.PatientLoaded}}class r{constructor(){this.type=i.AllPatientsRequested}}class o{constructor(t){this.payload=t,this.type=i.AllPatientsLoaded}}},5559:function(t,e,n){n.d(e,{a:function(){return f}});var i=n(64762),a=n(91601),s=n(46655),r=n(19773),o=n(88002),c=n(57057),d=n(45435),u=n(23065),l=n(4242),p=n(37716),h=n(62827);class f{constructor(t,e,n){this.actions$=t,this.patientsService=e,this.store=n,this.loadPatient$=this.actions$.pipe((0,a.l4)(s.Lg.PatientRequested),(0,r.zg)(t=>this.patientsService.findPatientById(t.payload.patientId)),(0,o.U)(t=>new s.Cl({patient:t}))),this.loadAllPatients$=this.actions$.pipe((0,a.l4)(s.Lg.AllPatientsRequested),(0,c.M)(this.store.pipe((0,u.Ys)(l.AU))),(0,d.h)(([,t])=>!t),(0,r.zg)(()=>this.patientsService.findAllPatients()),(0,o.U)(t=>new s.CX({patients:t})))}}f.\u0275fac=function(t){return new(t||f)(p.\u0275\u0275inject(a.eX),p.\u0275\u0275inject(h.$),p.\u0275\u0275inject(u.yh))},f.\u0275prov=p.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac}),(0,i.gn)([(0,a.Qm)()],f.prototype,"loadPatient$",void 0),(0,i.gn)([(0,a.Qm)()],f.prototype,"loadAllPatients$",void 0)},65476:function(t,e,n){n.d(e,{Sx:function(){return o},td:function(){return c}});var i=n(80273),a=n(46655);const s=(0,i.H)(),r=s.getInitialState({allPatientsLoaded:!1});function o(t=r,e){switch(e.type){case a.Lg.PatientLoaded:return s.addOne(e.payload.patient,t);case a.Lg.AllPatientsLoaded:return s.setAll(e.payload.patients,Object.assign(Object.assign({},t),{allPatientsLoaded:!0}));case a.Lg.PatientSaved:return s.updateOne(e.payload.patient,t);default:return t}}const{selectAll:c}=s.getSelectors()},10758:function(t,e,n){n.d(e,{N:function(){return u}});var i=n(23065),a=n(68307),s=n(45435),r=n(28049),o=n(4242),c=n(46655),d=n(37716);let u=(()=>{class t{constructor(t){this.store=t}resolve(t,e){const n=t.params.id;return this.store.pipe((0,i.Ys)((0,o.XX)(n)),(0,a.b)(t=>{t||this.store.dispatch(new c.$l({patientId:n}))}),(0,s.h)(t=>!!t),(0,r.P)())}}return t.\u0275fac=function(e){return new(e||t)(d.\u0275\u0275inject(i.yh))},t.\u0275prov=d.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})()},4242:function(t,e,n){n.d(e,{XX:function(){return r},QD:function(){return o},AU:function(){return c}});var i=n(23065),a=n(65476);const s=(0,i.ZF)("patients"),r=t=>(0,i.P1)(s,e=>e.entities[t]),o=(0,i.P1)(s,a.td),c=(0,i.P1)(s,t=>t.allPatientsLoaded)},62827:function(t,e,n){n.d(e,{$:function(){return d}});var i=n(88002),a=n(37716),s=n(91841),r=n(486);class o{constructor(t,e,n,i,a,s,r,o,c,d,u,l){this.id=t,this.user_id=e,this.name=n,this.phone=i,this.email=a,this.sex=s,this.birth_date=r,this.blood_group=o,this.id_no=c,this.nhif_no=d,this.usr_img=u,this.doctor_id=l}}let c=(()=>{class t{adapt(t){return new o(t.id,t.user_id,t.user.first_name+" "+t.user.other_name,t.user.phone1_code+t.user.phone1_number,t.user.email,t.user.sex,t.user.birth_date,t.user.blood_group,t.user.id_no,t.user.nhif_no,t.user.usr_img,t.doctor_id)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),d=(()=>{class t{constructor(t,e,n){this.http=t,this.jarwis=e,this.adapter=n}findPatientById(t){return this.http.get(this.jarwis.apiUrl+`/patients/${t}`)}findAllPatients(){return this.jarwis.getURI("patients").pipe((0,i.U)(t=>t.data.map(t=>this.adapter.adapt(t))))}savePatient(t,e){return this.http.put("/api/patients/"+t,e)}}return t.\u0275fac=function(e){return new(e||t)(a.\u0275\u0275inject(s.eN),a.\u0275\u0275inject(r.R),a.\u0275\u0275inject(c))},t.\u0275prov=a.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})()}}]);