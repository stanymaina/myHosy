!function(){"use strict";function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],s=!0,c=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(a){c=!0,r=a}finally{try{s||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(self.webpackChunkmyHosy=self.webpackChunkmyHosy||[]).push([[868],{58868:function(t,i,o){o.r(i),o.d(i,{PrescriptionModule:function(){return R}});var s,c=o(38583),a=o(95987),u=o(55477),p=o(15044),l=o(98083),f=o(23065),d=o(68307),h=o(37716),m=o(54550),y=o(76185),v=((s=function(){function e(t){var i=this;n(this,e),this.store=t,this.settings={add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{id:{title:"#",type:"number"},given_on:{title:"Date",type:"string"},employee_name:{title:"Doctor",type:"string"},patient_name:{title:"Patient",type:"string"},medicine_name:{title:"Medicine",type:"string"}}},this.store.pipe((0,f.Ys)(l.zL),(0,d.b)(function(e){e||i.store.dispatch(new p.BL)})).subscribe(),this.allPrescriptions$=this.store.pipe((0,f.Ys)(l.gN))}return r(e,[{key:"onDeleteConfirm",value:function(e){window.confirm("Are you sure you want to delete?")?e.confirm.resolve():e.confirm.reject()}},{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||s)(h.\u0275\u0275directiveInject(f.yh))},s.\u0275cmp=h.\u0275\u0275defineComponent({type:s,selectors:[["ngx-prescription"]],decls:6,vars:4,consts:[[3,"settings","source","deleteConfirm"]],template:function(e,t){1&e&&(h.\u0275\u0275elementStart(0,"nb-card"),h.\u0275\u0275elementStart(1,"nb-card-header"),h.\u0275\u0275text(2," Prescriptions' Table "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(3,"nb-card-body"),h.\u0275\u0275elementStart(4,"ng2-smart-table",0),h.\u0275\u0275listener("deleteConfirm",function(e){return t.onDeleteConfirm(e)}),h.\u0275\u0275pipe(5,"async"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&e&&(h.\u0275\u0275advance(4),h.\u0275\u0275property("settings",t.settings)("source",h.\u0275\u0275pipeBind1(5,2,t.allPrescriptions$)))},directives:[m.Asz,m.ndF,m.yKW,y.T5],pipes:[c.Ov],styles:[""]}),s),b=[{path:"",component:v,children:[{path:"",redirectTo:"all",pathMatch:"full"},{path:"add",component:v},{path:"**",component:u.w}]}],g=function(){var e=function e(){n(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=h.\u0275\u0275defineInjector({imports:[[a.Bz.forChild(b)],a.Bz]}),e}(),w=o(73749),j=o(45887),_=o(61758),k=o(55171),I=o(3679),C=o(4037),P=o(64762),A=o(19773),B=o(88002),S=o(57057),$=o(45435),M=o(91841),z=function e(t,i,r,o,s,c,a,u,p,l,f,d,h,m,y,v){n(this,e),this.id=t,this.patient=i,this.patient_id=r,this.patient_name=o,this.employee=s,this.employee_id=c,this.employee_name=a,this.advice=u,this.symptom=p,this.medicine_id=l,this.medicine_name=f,this.medicine=d,this.validity=h,this.pres_img_url=m,this.state=y,this.given_on=v},T=function(){var e=function(){function e(){n(this,e)}return r(e,[{key:"adapt",value:function(e){return new z(e.id,e.patient_id,e.patient,e.patient.user.first_name+" "+e.patient.user.other_name,e.employee,e.employee_id,"Dr. ".concat(e.employee.user.first_name," ").concat(e.employee.user.other_name),e.advice,e.symptom,e.medicine_id,e.medicines.name,e.medicines,e.validity,e.pres_img_url,e.state,e.given_on)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=h.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),E=o(486),U=function(){var e=function(){function e(t,i,r){n(this,e),this.http=t,this.adapter=i,this.jarwis=r}return r(e,[{key:"findPrescriptionById",value:function(e){return this.http.get(this.jarwis.apiUrl+"/prescriptions/".concat(e))}},{key:"findAllPrescriptions",value:function(){var e=this;return this.jarwis.getURI("prescriptions").pipe((0,B.U)(function(t){return t.data.map(function(t){return e.adapter.adapt(t)})}))}},{key:"savePrescription",value:function(e,t){return this.http.put("/api/prescriptions/"+e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.\u0275\u0275inject(M.eN),h.\u0275\u0275inject(T),h.\u0275\u0275inject(E.R))},e.\u0275prov=h.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),D=function t(i,r,o){var s=this;n(this,t),this.actions$=i,this.prescriptionsService=r,this.store=o,this.loadPrescription$=this.actions$.pipe((0,j.l4)(p.oM.PrescriptionRequested),(0,A.zg)(function(e){return s.prescriptionsService.findPrescriptionById(e.payload.prescriptionId)}),(0,B.U)(function(e){return new p.p4({prescription:e})})),this.loadAllPrescriptions$=this.actions$.pipe((0,j.l4)(p.oM.AllPrescriptionsRequested),(0,S.M)(this.store.pipe((0,f.Ys)(l.zL))),(0,$.h)(function(t){return!e(t,2)[1]}),(0,A.zg)(function(){return s.prescriptionsService.findAllPrescriptions()}),(0,B.U)(function(e){return new p.fI({prescriptions:e})}))};D.\u0275fac=function(e){return new(e||D)(h.\u0275\u0275inject(j.eX),h.\u0275\u0275inject(U),h.\u0275\u0275inject(f.yh))},D.\u0275prov=h.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),(0,P.gn)([(0,j.Qm)()],D.prototype,"loadPrescription$",void 0),(0,P.gn)([(0,j.Qm)()],D.prototype,"loadAllPrescriptions$",void 0);var N=o(28049),O=function(){var e=function(){function e(t,i){n(this,e),this.prescriptionsService=t,this.store=i}return r(e,[{key:"resolve",value:function(e,t){var n=this,i=e.params.id;return this.store.pipe((0,f.Ys)((0,l.ck)(i)),(0,d.b)(function(e){e||n.store.dispatch(new p.s6({prescriptionId:i}))}),(0,$.h)(function(e){return!!e}),(0,N.P)())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.\u0275\u0275inject(U),h.\u0275\u0275inject(f.yh))},e.\u0275prov=h.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),R=function(){var e=function e(){n(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=h.\u0275\u0275defineInjector({providers:[U,O],imports:[[c.ez,g,_.dF,m.EoG,I.u5,m.nKr,m.T2N,m.zyh,m.MfT,m.OA,w.$,m._WB,m.IIj,m.kmq,m.j7H.forChild(),m.wXm.forChild(),y.ne,k.R,f.Aw.forFeature("prescriptions",C.TN),j.sQ.forFeature([D]),I.UX]]}),e}()}}])}();