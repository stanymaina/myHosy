"use strict";(self.webpackChunkmyHosy=self.webpackChunkmyHosy||[]).push([[868],{58868:function(e,t,i){i.r(t),i.d(t,{PrescriptionModule:function(){return T}});var n=i(38583),r=i(95987),s=i(55477),o=i(15044),c=i(98083),a=i(23065),p=i(68307),l=i(37716),d=i(54550),h=i(76185);let u=(()=>{class e{constructor(e){this.store=e,this.settings={add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{id:{title:"#",type:"number"},given_on:{title:"Date",type:"string"},employee_name:{title:"Doctor",type:"string"},patient_name:{title:"Patient",type:"string"},medicine_name:{title:"Medicine",type:"string"}}},this.store.pipe((0,a.Ys)(c.zL),(0,p.b)(e=>{e||this.store.dispatch(new o.BL)})).subscribe(),this.allPrescriptions$=this.store.pipe((0,a.Ys)(c.gN))}onDeleteConfirm(e){window.confirm("Are you sure you want to delete?")?e.confirm.resolve():e.confirm.reject()}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275directiveInject(a.yh))},e.\u0275cmp=l.\u0275\u0275defineComponent({type:e,selectors:[["ngx-prescription"]],decls:6,vars:4,consts:[[3,"settings","source","deleteConfirm"]],template:function(e,t){1&e&&(l.\u0275\u0275elementStart(0,"nb-card"),l.\u0275\u0275elementStart(1,"nb-card-header"),l.\u0275\u0275text(2," Prescriptions' Table "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(3,"nb-card-body"),l.\u0275\u0275elementStart(4,"ng2-smart-table",0),l.\u0275\u0275listener("deleteConfirm",function(e){return t.onDeleteConfirm(e)}),l.\u0275\u0275pipe(5,"async"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&e&&(l.\u0275\u0275advance(4),l.\u0275\u0275property("settings",t.settings)("source",l.\u0275\u0275pipeBind1(5,2,t.allPrescriptions$)))},directives:[d.Asz,d.ndF,d.yKW,h.T5],pipes:[n.Ov],styles:[""]}),e})();const m=[{path:"",component:u,children:[{path:"",redirectTo:"all",pathMatch:"full"},{path:"add",component:u},{path:"**",component:s.w}]}];let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=l.\u0275\u0275defineInjector({imports:[[r.Bz.forChild(m)],r.Bz]}),e})();var y=i(73749),v=i(45887),g=i(61758),b=i(55171),_=i(3679),j=i(4037),w=i(64762),C=i(19773),I=i(88002),P=i(57057),k=i(45435),B=i(91841);class ${constructor(e,t,i,n,r,s,o,c,a,p,l,d,h,u,m,f){this.id=e,this.patient=t,this.patient_id=i,this.patient_name=n,this.employee=r,this.employee_id=s,this.employee_name=o,this.advice=c,this.symptom=a,this.medicine_id=p,this.medicine_name=l,this.medicine=d,this.validity=h,this.pres_img_url=u,this.state=m,this.given_on=f}}let z=(()=>{class e{adapt(e){return new $(e.id,e.patient_id,e.patient,e.patient.user.first_name+" "+e.patient.user.other_name,e.employee,e.employee_id,`Dr. ${e.employee.user.first_name} ${e.employee.user.other_name}`,e.advice,e.symptom,e.medicine_id,e.medicines.name,e.medicines,e.validity,e.pres_img_url,e.state,e.given_on)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var A=i(486);let M=(()=>{class e{constructor(e,t,i){this.http=e,this.adapter=t,this.jarwis=i}findPrescriptionById(e){return this.http.get(this.jarwis.apiUrl+`/prescriptions/${e}`)}findAllPrescriptions(){return this.jarwis.getURI("prescriptions").pipe((0,I.U)(e=>e.data.map(e=>this.adapter.adapt(e))))}savePrescription(e,t){return this.http.put("/api/prescriptions/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275inject(B.eN),l.\u0275\u0275inject(z),l.\u0275\u0275inject(A.R))},e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();class S{constructor(e,t,i){this.actions$=e,this.prescriptionsService=t,this.store=i,this.loadPrescription$=this.actions$.pipe((0,v.l4)(o.oM.PrescriptionRequested),(0,C.zg)(e=>this.prescriptionsService.findPrescriptionById(e.payload.prescriptionId)),(0,I.U)(e=>new o.p4({prescription:e}))),this.loadAllPrescriptions$=this.actions$.pipe((0,v.l4)(o.oM.AllPrescriptionsRequested),(0,P.M)(this.store.pipe((0,a.Ys)(c.zL))),(0,k.h)(([,e])=>!e),(0,C.zg)(()=>this.prescriptionsService.findAllPrescriptions()),(0,I.U)(e=>new o.fI({prescriptions:e})))}}S.\u0275fac=function(e){return new(e||S)(l.\u0275\u0275inject(v.eX),l.\u0275\u0275inject(M),l.\u0275\u0275inject(a.yh))},S.\u0275prov=l.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac}),(0,w.gn)([(0,v.Qm)()],S.prototype,"loadPrescription$",void 0),(0,w.gn)([(0,v.Qm)()],S.prototype,"loadAllPrescriptions$",void 0);var D=i(28049);let N=(()=>{class e{constructor(e,t){this.prescriptionsService=e,this.store=t}resolve(e,t){const i=e.params.id;return this.store.pipe((0,a.Ys)((0,c.ck)(i)),(0,p.b)(e=>{e||this.store.dispatch(new o.s6({prescriptionId:i}))}),(0,k.h)(e=>!!e),(0,D.P)())}}return e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275inject(M),l.\u0275\u0275inject(a.yh))},e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})(),T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=l.\u0275\u0275defineInjector({providers:[M,N],imports:[[n.ez,f,g.dF,d.EoG,_.u5,d.nKr,d.T2N,d.zyh,d.MfT,d.OA,y.$,d._WB,d.IIj,d.kmq,d.j7H.forChild(),d.wXm.forChild(),h.ne,b.R,a.Aw.forFeature("prescriptions",j.TN),v.sQ.forFeature([S]),_.UX]]}),e})()}}]);