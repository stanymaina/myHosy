!function(){"use strict";function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(self.webpackChunkmyHosy=self.webpackChunkmyHosy||[]).push([[615],{79615:function(t,i,o){o.r(i),o.d(i,{AppointmentModule:function(){return ke}});var a,s=o(38583),l=o(95987),p=o(55477),m=o(37716),c=((a=function(){function e(){n(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=m.\u0275\u0275defineComponent({type:a,selectors:[["ngx-appointment-calender"]],decls:2,vars:0,template:function(e,t){1&e&&(m.\u0275\u0275elementStart(0,"p"),m.\u0275\u0275text(1,"appointment-calender works!"),m.\u0275\u0275elementEnd())},styles:[""]}),a),u=o(23065),d=o(80273),f=function(){return(e=f||(f={})).AppointmentRequested="[View Appointment Page] Appointment Requested",e.AppointmentLoaded="[Appointments API] Appointment Loaded",e.AllAppointmentsRequested="[Appointments Home Page] All Appointments Requested",e.AllAppointmentsLoaded="[Appointments API] All Appointments Loaded",e.AppointmentSaved="[Edit Appointment Dialog] Appointment Saved",f;var e}(),h=function e(t){n(this,e),this.payload=t,this.type=f.AppointmentRequested},v=function e(t){n(this,e),this.payload=t,this.type=f.AppointmentLoaded},g=function e(){n(this,e),this.type=f.AllAppointmentsRequested},b=function e(t){n(this,e),this.payload=t,this.type=f.AllAppointmentsLoaded},y=(0,d.H)(),A=y.getInitialState({allAppointmentsLoaded:!1});function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.AppointmentLoaded:return y.addOne(t.payload.appointment,e);case f.AllAppointmentsLoaded:return y.setAll(t.payload.appointments,Object.assign(Object.assign({},e),{allAppointmentsLoaded:!0}));case f.AppointmentSaved:return y.updateOne(t.payload.appointment,e);default:return e}}var k=y.getSelectors().selectAll,I=(0,u.ZF)("appointments"),_=(0,u.P1)(I,k),w=(0,u.P1)(_,function(e){return e.filter(function(e){return"Treated"===e.appointment_status})}),E=(0,u.P1)(_,function(e){return e.filter(function(e){return"Confirmed"===e.appointment_status})}),C=(0,u.P1)(_,function(e){return e.filter(function(e){return"Requested"===e.appointment_status})}),D=(0,u.P1)(_,function(e){return e.filter(function(e){return"Cancelled"===e.appointment_status})}),j=(0,u.P1)(_,function(e){return e.filter(function(e){return"Pending Confirmation"===e.appointment_status})}),N=(0,u.P1)(I,function(e){return e.allAppointmentsLoaded}),P=o(68307),x=o(3679),O=o(54550),T=o(16738),R=o(18541),$=o(4242),q=o(65890),F=o(486),B=o(61758);function M(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"nb-option",21),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;m.\u0275\u0275property("value",n.id),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(n.name)}}function Y(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"nb-option",21),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;m.\u0275\u0275property("value",n.index),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(n.range)}}function L(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"nb-option",21),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;m.\u0275\u0275property("value",n.id),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(n.name)}}var z=function(){return{extraPlugins:"divarea",height:"120"}},U=function(){var e=function(){function e(t,i,r,o,a){n(this,e),this.jarwis=t,this.store=i,this.formBuilder=r,this.toastrService=o,this.dateService=a,this.makeAppointmentForm=new x.cw({dateTime:new x.NI("",x.kI.required),timeSlots:new x.NI("",x.kI.required),patientID:new x.NI("",x.kI.required),doctorID:new x.NI("",x.kI.required),appointmentRemark:new x.NI("",x.kI.required)}),this.tt=0,this.b_times=[],this.s_times=[],this.schedule=[],this.appointments=[],this.date=new Date,this.step=40,this.newItemEvent=new m.EventEmitter,this.appointments_start_times=[],this.allDoctors$=this.store.pipe((0,u.Ys)(R.Bv)),this.allPatients$=this.store.pipe((0,u.Ys)($.QD)),this.allSchedules$=this.store.pipe((0,u.Ys)(q.mg)),this.allAppointments$=this.store.pipe((0,u.Ys)(_)),this.min=this.dateService.today(),this.max=this.dateService.addMonth(this.dateService.today(),1),this.dateTime=new x.NI("",[x.kI.required]),this.timeSlots=new x.NI("",[x.kI.required]),this.patientID=new x.NI("",[x.kI.required]),this.doctorID=new x.NI("",[x.kI.required]),this.appointmentRemark=new x.NI("",[x.kI.required]),this.makeAppointmentForm=r.group({DateTime:this.dateTime,TimeSlots:this.timeSlots,patientId:this.patientID,doctorId:this.doctorID,AppointmentRemark:this.appointmentRemark})}return r(e,[{key:"ngOnInit",value:function(){}},{key:"onDoctorChoice",value:function(e){var t;console.log(e),this.employee_id=e,this.store.pipe((0,u.Ys)((0,q.AK)(e))).subscribe(function(e){t=e}),console.log(t),this.store.pipe((0,u.Ys)((0,q.sG)(e))).subscribe(function(e){e=e,console.log(e),e.meals.forEach(function(e){var t=[];t.push(e),t.map(function(e){return Object.assign({},e,{status:""})})[0].status=e.state})}),console.log(t)}},{key:"onDateChange",value:function(e){var t,n=this;console.log(e),this.booking_date=T(new Date(e)).format("y-MM-DD"),this.dateQuery=this.formBuilder.group({date:this.booking_date}),this.jarwis.postURI("appointments/8",this.dateQuery.value).subscribe(function(e){console.log(e.data),""!==(t=e.data).schedule&&(n.schedule=t.schedule,""!==t.appointments&&(n.appointments=t.appointments,console.log(n.appointments)),n.dis_times(n.booking_date,n.schedule,n.appointments))},function(e){console.log(e),e.error instanceof Error?console.log("Client-side error occured."):console.log("Server-side error occured.")})}},{key:"dis_times",value:function(){var e=this,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=JSON.parse('{"interval":[]}'),r=t.duration,o=t.end_time,a=t.start_time.split(":"),s=o.split(":"),l=60*+a[0]+ +a[1],p=60*+s[0]+ +s[1];this.tt=l,console.log(l),console.log(p);var m=["AM","PM"];console.log(JSON.stringify(n).length),Object.keys(i),this.appointments_start_times=[];for(var c=0;c<Object.keys(n).length;c++)this.appointments_start_times.push(n[c].s_time);console.log(this.appointments_start_times);for(var u=0;Number(this.tt)<Number(p);u++){var d=Math.floor(this.tt/60),f=this.tt%60;if(this.s_times[u]=("0"+d%12).slice(-2)+":"+("0"+f).slice(-2)+" "+m[Math.floor(d/12)],u>0){var h=!0;this.appointments_start_times.forEach(function(t){if(h=!0,Number(e.tt)<Number(i)&&Number(e.tt)+r<Number(i)||Number(e.tt)>Number(i)&&Number(e.tt)+r<Number(i))h=!0;else{var n=t.split(":"),i=60*+n[0]+ +n[1];console.log(i),Number(e.tt)>=Number(i)&&Number(i)+Number(r)<=Number(e.tt)+Number(r)?(console.log("Booked"),h=!1):h=!0}}),this.available_time_slots=this.s_times[u-1]+" - "+this.s_times[u],console.log(h),i.interval.push({range:this.available_time_slots}),console.log("new",i.interval),this.available_time_slots_array=i.interval}this.tt=Number(this.tt)+Number(r)}console.log(this.available_time_slots_array)}},{key:"addAppointment",value:function(){var e=this;this.makeAppointmentForm=this.formBuilder.group({start_time:this.booking_date,end_time:this.booking_date,date:this.booking_date}),this.jarwis.postURI("appointments",this.makeAppointmentForm.value).subscribe(function(t){console.log(t),void 0!==t.data.id?t.data.id&&(e.toastrService.show(t.data.first_name+" "+t.data.first_name,"User Found",{status:"success",destroyByClick:!0,duration:2e3,hasIcon:!0,position:O.fe3.TOP_RIGHT,preventDuplicates:!1}),e.newItemEvent.emit({id:t.data})):(e.toastrService.show(t.data.message,"Kindly register a new user",{status:"danger",destroyByClick:!0,duration:2e3,hasIcon:!0,position:O.fe3.TOP_RIGHT,preventDuplicates:!1}),e.newItemEvent.emit({id:null}))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275directiveInject(F.R),m.\u0275\u0275directiveInject(u.yh),m.\u0275\u0275directiveInject(x.qu),m.\u0275\u0275directiveInject(O.quB),m.\u0275\u0275directiveInject(O.uui))},e.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["ngx-make-appointment-form"]],outputs:{newItemEvent:"newItemEvent"},decls:43,vars:15,consts:[[1,"scrollable-container"],[1,"col-12"],[1,"row",3,"formGroup"],[1,"col-6","form-group"],["for","InputRefdByDoctor",1,"label"],["formControlName","doctorId","fullWidth","",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["for","InputEmail1",1,"label"],["nbInput","","fullWidth","","placeholder","Pick Date","formControlName","DateTime",3,"nbDatepicker","ngModelChange"],[3,"min","max"],["appointmentDatePicker",""],["for","InputTemplate",1,"label"],["formControlName","TimeSlots","fullWidth",""],["selected",""],["for","InputPatient",1,"label"],["formControlName","patientId","fullWidth","",3,"selected","selectedChange"],[1,"col-12","form-group"],["for","InputAppointmentRemark",1,"label"],["formControlName","AppointmentRemark",3,"config"],[1,"col-4","form-group"],["type","submit","nbButton","","status","info",3,"click"],[3,"value"]],template:function(e,t){if(1&e&&(m.\u0275\u0275elementStart(0,"span",0),m.\u0275\u0275elementStart(1,"nb-card"),m.\u0275\u0275elementStart(2,"nb-card-header"),m.\u0275\u0275text(3," Add Appointment Form"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(4,"nb-card-body",1),m.\u0275\u0275elementStart(5,"div",2),m.\u0275\u0275elementStart(6,"div",3),m.\u0275\u0275elementStart(7,"label",4),m.\u0275\u0275text(8,"Doctor"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(9,"br"),m.\u0275\u0275elementStart(10,"nb-select",5),m.\u0275\u0275listener("selectedChange",function(e){return t.selectedDoctor=e})("selectedChange",function(e){return t.onDoctorChoice(e)}),m.\u0275\u0275template(11,M,2,2,"nb-option",6),m.\u0275\u0275pipe(12,"async"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(13,"div",3),m.\u0275\u0275elementStart(14,"label",7),m.\u0275\u0275text(15,"Date & Time"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(16,"br"),m.\u0275\u0275elementStart(17,"input",8),m.\u0275\u0275listener("ngModelChange",function(e){return t.onDateChange(e)}),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(18,"nb-datepicker",9,10),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(20,"div",3),m.\u0275\u0275elementStart(21,"label",11),m.\u0275\u0275text(22,"Time Slots"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(23,"br"),m.\u0275\u0275elementStart(24,"nb-select",12),m.\u0275\u0275elementStart(25,"nb-option",13),m.\u0275\u0275text(26,"Time Slot"),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(27,Y,2,2,"nb-option",6),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(28,"div",3),m.\u0275\u0275elementStart(29,"label",14),m.\u0275\u0275text(30,"Patient"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(31,"br"),m.\u0275\u0275elementStart(32,"nb-select",15),m.\u0275\u0275listener("selectedChange",function(e){return t.selectedPatient=e}),m.\u0275\u0275template(33,L,2,2,"nb-option",6),m.\u0275\u0275pipe(34,"async"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(35,"div",16),m.\u0275\u0275elementStart(36,"label",17),m.\u0275\u0275text(37,"Appointment Remark"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(38,"br"),m.\u0275\u0275element(39,"ckeditor",18),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(40,"div",19),m.\u0275\u0275elementStart(41,"button",20),m.\u0275\u0275listener("click",function(){return t.addAppointment()}),m.\u0275\u0275text(42," Submit "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e){var n=m.\u0275\u0275reference(19);m.\u0275\u0275advance(5),m.\u0275\u0275property("formGroup",t.makeAppointmentForm),m.\u0275\u0275advance(5),m.\u0275\u0275property("selected",t.selectedDoctor),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngForOf",m.\u0275\u0275pipeBind1(12,10,t.allDoctors$)),m.\u0275\u0275advance(6),m.\u0275\u0275property("nbDatepicker",n),m.\u0275\u0275advance(1),m.\u0275\u0275property("min",t.min)("max",t.max),m.\u0275\u0275advance(9),m.\u0275\u0275property("ngForOf",t.available_time_slots_array),m.\u0275\u0275advance(5),m.\u0275\u0275property("selected",t.selectedPatient),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngForOf",m.\u0275\u0275pipeBind1(34,12,t.allPatients$)),m.\u0275\u0275advance(6),m.\u0275\u0275property("config",m.\u0275\u0275pureFunction0(14,z))}},directives:[O.Asz,O.ndF,O.yKW,x.JL,x.sg,O.rs,x.JJ,x.u,s.sg,O.h8i,x.Fj,O.$kf,O.B4C,O.q51,B.ue,O.DPz],pipes:[s.Ov],styles:[""]}),e}(),W=o(76185),Q=function(){var e=function(){function e(t,i,r){var o=this;n(this,e),this.windowService=t,this.store=i,this.dialogService=r,this.for_all_settings={actions:!1,columns:{id:{title:"#",type:"number"},patient_name:{title:"Patient",type:"string"},doctor_name:{title:"Doctor",type:"string"},date:{title:"Date-Time",type:"string"},remarks:{title:"Remarks",type:"string"},appointment_status:{title:"Status",type:"string"}}},this.settings={actions:!1,columns:{id:{title:"#",type:"number"},patient_name:{title:"Patient",type:"string"},doctor_name:{title:"Doctor",type:"string"},date:{title:"Date-Time",type:"string"},remarks:{title:"Remarks",type:"string"}}},this.store.pipe((0,u.Ys)(N),(0,P.b)(function(e){e||o.store.dispatch(new g)})).subscribe(),this.allAppointments$=this.store.pipe((0,u.Ys)(_)),this.pendingAppointments$=this.store.pipe((0,u.Ys)(j)),this.confirmedAppointments$=this.store.pipe((0,u.Ys)(E)),this.treatedAppointments$=this.store.pipe((0,u.Ys)(w)),this.cancelledAppointments$=this.store.pipe((0,u.Ys)(D)),this.requestedAppointments$=this.store.pipe((0,u.Ys)(C))}return r(e,[{key:"onDeleteConfirm",value:function(e){window.confirm("Are you sure you want to delete?")?e.confirm.resolve():e.confirm.reject()}},{key:"ngOnInit",value:function(){}},{key:"openAddReport",value:function(e,t){this.openWindow(U,e.data,t)}},{key:"openWindow",value:function(e,t,n){this.windowService.open(e,{context:{text:"some text to pass into template",data:t,type:n}})}},{key:"open",value:function(){this.dialogService.open(U,{})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275directiveInject(O.eJ1),m.\u0275\u0275directiveInject(u.yh),m.\u0275\u0275directiveInject(O.Gln))},e.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["ngx-appointment-list"]],decls:27,vars:24,consts:[[1,"row"],[1,"col-12"],["size","small"],["type","submit","nbButton","","status","danger",3,"click"],["fullWidth",""],["tabTitle","All"],[3,"settings","source","deleteConfirm"],["tabTitle","Pending Confimation"],["tabTitle","Confirmed"],["tabTitle","Treated"],["tabTitle","Cancelled"],["tabTitle","Requested"]],template:function(e,t){1&e&&(m.\u0275\u0275elementStart(0,"div",0),m.\u0275\u0275elementStart(1,"div",1),m.\u0275\u0275elementStart(2,"nb-card",2),m.\u0275\u0275elementStart(3,"nb-card-header"),m.\u0275\u0275text(4," Appointment's Table "),m.\u0275\u0275elementStart(5,"button",3),m.\u0275\u0275listener("click",function(e){return t.openAddReport(e,"add")}),m.\u0275\u0275text(6,"Add Appointment"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(7,"nb-card-body"),m.\u0275\u0275elementStart(8,"nb-tabset",4),m.\u0275\u0275elementStart(9,"nb-tab",5),m.\u0275\u0275elementStart(10,"ng2-smart-table",6),m.\u0275\u0275listener("deleteConfirm",function(e){return t.onDeleteConfirm(e)}),m.\u0275\u0275pipe(11,"async"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(12,"nb-tab",7),m.\u0275\u0275elementStart(13,"ng2-smart-table",6),m.\u0275\u0275listener("deleteConfirm",function(e){return t.onDeleteConfirm(e)}),m.\u0275\u0275pipe(14,"async"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(15,"nb-tab",8),m.\u0275\u0275elementStart(16,"ng2-smart-table",6),m.\u0275\u0275listener("deleteConfirm",function(e){return t.onDeleteConfirm(e)}),m.\u0275\u0275pipe(17,"async"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(18,"nb-tab",9),m.\u0275\u0275elementStart(19,"ng2-smart-table",6),m.\u0275\u0275listener("deleteConfirm",function(e){return t.onDeleteConfirm(e)}),m.\u0275\u0275pipe(20,"async"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(21,"nb-tab",10),m.\u0275\u0275elementStart(22,"ng2-smart-table",6),m.\u0275\u0275listener("deleteConfirm",function(e){return t.onDeleteConfirm(e)}),m.\u0275\u0275pipe(23,"async"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(24,"nb-tab",11),m.\u0275\u0275elementStart(25,"ng2-smart-table",6),m.\u0275\u0275listener("deleteConfirm",function(e){return t.onDeleteConfirm(e)}),m.\u0275\u0275pipe(26,"async"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(10),m.\u0275\u0275property("settings",t.for_all_settings)("source",m.\u0275\u0275pipeBind1(11,12,t.allAppointments$)),m.\u0275\u0275advance(3),m.\u0275\u0275property("settings",t.settings)("source",m.\u0275\u0275pipeBind1(14,14,t.pendingAppointments$)),m.\u0275\u0275advance(3),m.\u0275\u0275property("settings",t.settings)("source",m.\u0275\u0275pipeBind1(17,16,t.confirmedAppointments$)),m.\u0275\u0275advance(3),m.\u0275\u0275property("settings",t.settings)("source",m.\u0275\u0275pipeBind1(20,18,t.treatedAppointments$)),m.\u0275\u0275advance(3),m.\u0275\u0275property("settings",t.settings)("source",m.\u0275\u0275pipeBind1(23,20,t.cancelledAppointments$)),m.\u0275\u0275advance(3),m.\u0275\u0275property("settings",t.settings)("source",m.\u0275\u0275pipeBind1(26,22,t.requestedAppointments$)))},directives:[O.Asz,O.ndF,O.DPz,O.yKW,O.kyn,O.TR4,W.T5],pipes:[s.Ov],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}.nb-theme-dark   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}.nb-theme-corporate   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translate(0);height:100%}"]}),e}(),G=[{path:"",component:Q,children:[{path:"",redirectTo:"all",pathMatch:"full"},{path:"add",component:U},{path:"all",component:Q},{path:"upcoming",component:function(){var e=function(){function e(){n(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["ngx-appointment-upcoming"]],decls:2,vars:0,template:function(e,t){1&e&&(m.\u0275\u0275elementStart(0,"p"),m.\u0275\u0275text(1,"appointment-upcoming works!"),m.\u0275\u0275elementEnd())},styles:[""]}),e}()},{path:"calender",component:c},{path:"**",component:p.w}]}],H=function(){var e=function e(){n(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=m.\u0275\u0275defineInjector({imports:[[l.Bz.forChild(G)],l.Bz]}),e}(),J=o(73749),K=o(55171),X=o(64762),V=o(45887),Z=o(19773),ee=o(88002),te=o(57057),ne=o(45435),ie=o(91841),re=function e(t,i,r,o,a,s,l,p){n(this,e),this.id=t,this.doctor_id=i,this.patient_id=r,this.doctor_name=o,this.patient_name=a,this.remarks=s,this.date=l,this.appointment_status=p},oe=function(){var e=function(){function e(){n(this,e)}return r(e,[{key:"adapt",value:function(e){return new re(e.id,e.employee_id,e.patient_id,"Dr. ".concat(e.employee.user.first_name," ").concat(e.employee.user.other_name),e.patient.user.first_name+" "+e.patient.user.other_name,e.remarks,e.date,e.appointment_status)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=m.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),ae=function(){var e=function(){function e(t,i,r){n(this,e),this.http=t,this.adapter=i,this.jarwis=r}return r(e,[{key:"findAppointmentById",value:function(e){return this.http.get(this.jarwis.apiUrl+"/appointments/".concat(e))}},{key:"findAllAppointments",value:function(){var e=this;return this.jarwis.getURI("appointments").pipe((0,ee.U)(function(t){return t.data.map(function(t){return e.adapter.adapt(t)})}))}},{key:"saveAppointment",value:function(e,t){return this.http.put("/api/appointments/"+e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275inject(ie.eN),m.\u0275\u0275inject(oe),m.\u0275\u0275inject(F.R))},e.\u0275prov=m.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),se=function t(i,r,o){var a=this;n(this,t),this.actions$=i,this.appointmentsService=r,this.store=o,this.loadAppointment$=this.actions$.pipe((0,V.l4)(f.AppointmentRequested),(0,Z.zg)(function(e){return a.appointmentsService.findAppointmentById(e.payload.appointmentId)}),(0,ee.U)(function(e){return new v({appointment:e})})),this.loadAllAppointments$=this.actions$.pipe((0,V.l4)(f.AllAppointmentsRequested),(0,te.M)(this.store.pipe((0,u.Ys)(N))),(0,ne.h)(function(t){return!e(t,2)[1]}),(0,Z.zg)(function(){return a.appointmentsService.findAllAppointments()}),(0,ee.U)(function(e){return new b({appointments:e})}))};se.\u0275fac=function(e){return new(e||se)(m.\u0275\u0275inject(V.eX),m.\u0275\u0275inject(ae),m.\u0275\u0275inject(u.yh))},se.\u0275prov=m.\u0275\u0275defineInjectable({token:se,factory:se.\u0275fac}),(0,X.gn)([(0,V.Qm)()],se.prototype,"loadAppointment$",void 0),(0,X.gn)([(0,V.Qm)()],se.prototype,"loadAllAppointments$",void 0);var le=o(28049),pe=function(){var e=function(){function e(t,i){n(this,e),this.appointmentsService=t,this.store=i}return r(e,[{key:"resolve",value:function(e,t){var n,i=this,r=e.params.id;return this.store.pipe((0,u.Ys)((n=r,(0,u.P1)(I,function(e){return e.entities[n]}))),(0,P.b)(function(e){e||i.store.dispatch(new h({appointmentId:r}))}),(0,ne.h)(function(e){return!!e}),(0,le.P)())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275inject(ae),m.\u0275\u0275inject(u.yh))},e.\u0275prov=m.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),me=o(40810),ce=o(5559),ue=o(80541),de=o(65476),fe=o(2678),he=o(10758),ve=o(1398),ge=o(62827),be=o(10709),ye=o(2001),Ae=o(1947),Se=o(4222),ke=function(){var e=function e(){n(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=m.\u0275\u0275defineInjector({providers:[ae,pe,ve.e,fe.C,ge.$,he.N,Se.u,Ae.h,x.qu],imports:[[s.ez,H,B.dF,O.EoG,x.u5,O.nKr,O.T2N,O.zyh,O.MfT,O.OA,J.$,O._WB,O.IIj,O.kmq,O.j7H.forChild(),O.wXm.forChild(),W.ne,K.R,u.Aw.forFeature("doctors",ue.qf),V.sQ.forFeature([me.e]),u.Aw.forFeature("patients",de.Sx),V.sQ.forFeature([ce.a]),u.Aw.forFeature("appointments",S),V.sQ.forFeature([se]),u.Aw.forFeature("schedules",ye.V8),V.sQ.forFeature([be.R]),x.UX]]}),e}()}}])}();