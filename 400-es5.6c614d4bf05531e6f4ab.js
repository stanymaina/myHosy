!function(){"use strict";function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],s=!0,c=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(u){c=!0,r=u}finally{try{s||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(self.webpackChunkmyHosy=self.webpackChunkmyHosy||[]).push([[400],{21400:function(t,i,o){o.r(i),o.d(i,{ScheduleModule:function(){return ee}});var s,c=o(38583),u=o(95987),a=o(55477),l=o(76185),d=o(37716),h=o(98152),f=o(54550),p=((s=function(){function e(t){n(this,e),this.service=t,this.settings={add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{firstName:{title:"Doctor",type:"string"},lastName:{title:"Date",type:"string"}}},this.source=new l.nC;var i=this.service.getData();this.source.load(i)}return r(e,[{key:"onDeleteConfirm",value:function(e){window.confirm("Are you sure you want to delete?")?e.confirm.resolve():e.confirm.reject()}},{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||s)(d.\u0275\u0275directiveInject(h.B))},s.\u0275cmp=d.\u0275\u0275defineComponent({type:s,selectors:[["ngx-holidays"]],decls:5,vars:2,consts:[[3,"settings","source","deleteConfirm"]],template:function(e,t){1&e&&(d.\u0275\u0275elementStart(0,"nb-card"),d.\u0275\u0275elementStart(1,"nb-card-header"),d.\u0275\u0275text(2," Holidays's Table "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"nb-card-body"),d.\u0275\u0275elementStart(4,"ng2-smart-table",0),d.\u0275\u0275listener("deleteConfirm",function(e){return t.onDeleteConfirm(e)}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(4),d.\u0275\u0275property("settings",t.settings)("source",t.source))},directives:[f.Asz,f.ndF,f.yKW,l.T5],styles:[""]}),s),y=o(68307),m=o(68020),v=function(){return(e=v||(v={})).ScheduleRequested="[View Schedule Page] Schedule Requested",e.ScheduleLoaded="[Schedules API] Schedule Loaded",e.AllSchedulesRequested="[Schedules Home Page] All Schedules Requested",e.AllSchedulesLoaded="[Schedules API] All Schedules Loaded",e.ScheduleSaved="[Edit Schedule Dialog] Schedule Saved",v;var e}(),S=function e(t){n(this,e),this.payload=t,this.type=v.ScheduleRequested},b=function e(t){n(this,e),this.payload=t,this.type=v.ScheduleLoaded},g=function e(){n(this,e),this.type=v.AllSchedulesRequested},w=function e(t){n(this,e),this.payload=t,this.type=v.AllSchedulesLoaded},C=o(18541),j=o(23065),k=(0,o(80273).H)(),A=k.getInitialState({allSchedulesLoaded:!1});function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.ScheduleLoaded:return k.addOne(t.payload.schedule,e);case v.AllSchedulesLoaded:return k.setAll(t.payload.schedules,Object.assign(Object.assign({},e),{allSchedulesLoaded:!0}));case v.ScheduleSaved:return k.updateOne(t.payload.schedule,e);default:return e}}var I=k.getSelectors().selectAll,_=(0,j.ZF)("schedules"),D=(0,j.P1)(_,I),E=(0,j.P1)(_,function(e){return e.allSchedulesLoaded}),$=[{path:"",children:[{path:"",redirectTo:"all",pathMatch:"full"},{path:"all",component:function(){var e=function(){function e(t,i){var r=this;n(this,e),this.service=t,this.store=i,this.settings={add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{name:{title:"Doctor",type:"number"},day_of_week:{title:"Day",type:"string"},start_time:{title:"Start Time",type:"string"},end_time:{title:"End Time",type:"string"},duration:{title:"Duration",type:"number"}}},this.source=new l.nC,this.store.pipe((0,j.Ys)(C.Zy),(0,y.b)(function(e){e||r.store.dispatch(new m.dP)})).subscribe(),this.store.pipe((0,j.Ys)(E),(0,y.b)(function(e){e||r.store.dispatch(new g)})).subscribe(),this.allDoctors$=this.store.pipe((0,j.Ys)(C.Bv)),this.allSchedules$=this.store.pipe((0,j.Ys)(D))}return r(e,[{key:"onDeleteConfirm",value:function(e){window.confirm("Are you sure you want to delete?")?e.confirm.resolve():e.confirm.reject()}},{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(h.B),d.\u0275\u0275directiveInject(j.yh))},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["ngx-schedule"]],decls:6,vars:4,consts:[[3,"settings","source","deleteConfirm"]],template:function(e,t){1&e&&(d.\u0275\u0275elementStart(0,"nb-card"),d.\u0275\u0275elementStart(1,"nb-card-header"),d.\u0275\u0275text(2," Schedule's Table "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"nb-card-body"),d.\u0275\u0275elementStart(4,"ng2-smart-table",0),d.\u0275\u0275listener("deleteConfirm",function(e){return t.onDeleteConfirm(e)}),d.\u0275\u0275pipe(5,"async"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(4),d.\u0275\u0275property("settings",t.settings)("source",d.\u0275\u0275pipeBind1(5,2,t.allSchedules$)))},directives:[f.Asz,f.ndF,f.yKW,l.T5],pipes:[c.Ov],styles:[""]}),e}()},{path:"holidays",component:p},{path:"**",component:a.w}]}],L=function(){var e=function e(){n(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=d.\u0275\u0275defineInjector({imports:[[u.Bz.forChild($)],u.Bz]}),e}(),R=o(55171),T=o(3679),O=o(73749),P=o(64762),q=o(91601),z=o(19773),F=o(88002),M=o(57057),U=o(45435),N=o(91841),Y=o(486),x=function e(t,i,r,o,s,c,u,a,l){n(this,e),this.id=t,this.user_id=i,this.doctor_id=r,this.name=o,this.day_of_week=s,this.end_time=c,this.start_time=u,this.duration=a,this.hospital_id=l},H=function(){var e=function(){function e(t){n(this,e),this.datepipe=t}return r(e,[{key:"adapt",value:function(e){return new x(e.id,e.doctor.user_id,e.doctor_id,e.doctor.user.first_name+" "+e.doctor.user.other_name,e.day_of_week,e.end_time,e.start_time,e.duration,e.hospital_id)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275inject(c.uU))},e.\u0275prov=d.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Q=function(){var e=function(){function e(t,i,r){n(this,e),this.http=t,this.jarwis=i,this.adapter=r}return r(e,[{key:"findScheduleById",value:function(e){return this.http.get(this.jarwis.apiUrl+"/schedules/".concat(e))}},{key:"findAllSchedules",value:function(){var e=this;return this.jarwis.getURI("schedules").pipe((0,F.U)(function(t){return t.data.map(function(t){return e.adapter.adapt(t)})}))}},{key:"saveSchedule",value:function(e,t){return this.http.put("/api/schedules/"+e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275inject(N.eN),d.\u0275\u0275inject(Y.R),d.\u0275\u0275inject(H))},e.\u0275prov=d.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),K=function t(i,r,o){var s=this;n(this,t),this.actions$=i,this.schedulesService=r,this.store=o,this.loadSchedule$=this.actions$.pipe((0,q.l4)(v.ScheduleRequested),(0,z.zg)(function(e){return s.schedulesService.findScheduleById(e.payload.scheduleId)}),(0,F.U)(function(e){return new b({schedule:e})})),this.loadAllSchedules$=this.actions$.pipe((0,q.l4)(v.AllSchedulesRequested),(0,M.M)(this.store.pipe((0,j.Ys)(E))),(0,U.h)(function(t){return!e(t,2)[1]}),(0,z.zg)(function(){return s.schedulesService.findAllSchedules()}),(0,F.U)(function(e){return new w({schedules:e})}))};K.\u0275fac=function(e){return new(e||K)(d.\u0275\u0275inject(q.eX),d.\u0275\u0275inject(Q),d.\u0275\u0275inject(j.yh))},K.\u0275prov=d.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac}),(0,P.gn)([(0,q.Qm)()],K.prototype,"loadSchedule$",void 0),(0,P.gn)([(0,q.Qm)()],K.prototype,"loadAllSchedules$",void 0);var W=o(28049),Z=function(){var e=function(){function e(t,i){n(this,e),this.scheduleService=t,this.store=i}return r(e,[{key:"resolve",value:function(e,t){var n,i=this,r=e.params.id;return this.store.pipe((0,j.Ys)((n=r,(0,j.P1)(_,function(e){return e.entities[n]}))),(0,y.b)(function(e){e||i.store.dispatch(new S({scheduleId:r}))}),(0,U.h)(function(e){return!!e}),(0,W.P)())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275inject(Q),d.\u0275\u0275inject(j.yh))},e.\u0275prov=d.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e}(),G=o(40810),V=o(80541),X=o(2678),J=o(1398),ee=function(){var e=function e(){n(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=d.\u0275\u0275defineInjector({providers:[Q,Z,J.e,X.C],imports:[[c.ez,L,f.EoG,T.u5,f.nKr,f.T2N,f.zyh,f.MfT,O.$,f._WB,R.R,l.ne,j.Aw.forFeature("doctors",V.qf),q.sQ.forFeature([G.e]),j.Aw.forFeature("schedules",B),q.sQ.forFeature([K])]]}),e}()}}])}();