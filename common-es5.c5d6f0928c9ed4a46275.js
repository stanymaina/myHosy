!function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}function e(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==e)return;var i,r,a=[],u=!0,o=!1;try{for(e=e.call(t);!(u=(i=e.next()).done)&&(a.push(i.value),!n||a.length!==n);u=!0);}catch(s){o=!0,r=s}finally{try{u||null==e.return||e.return()}finally{if(o)throw r}}return a}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return i(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[592],{46655:function(t,n,e){"use strict";e.d(n,{Lg:function(){return i},$l:function(){return a},Cl:function(){return u},yi:function(){return o},CX:function(){return s}});var i=(function(t){t.PatientRequested="[View Patient Page] Patient Requested",t.PatientLoaded="[Patients API] Patient Loaded",t.AllPatientsRequested="[Patients Home Page] All Patients Requested",t.AllPatientsLoaded="[Patients API] All Patients Loaded",t.PatientSaved="[Edit Patient Dialog] Patient Saved"}(i||(i={})),i),a=function t(n){r(this,t),this.payload=n,this.type=i.PatientRequested},u=function t(n){r(this,t),this.payload=n,this.type=i.PatientLoaded},o=function t(){r(this,t),this.type=i.AllPatientsRequested},s=function t(n){r(this,t),this.payload=n,this.type=i.AllPatientsLoaded}},5559:function(t,n,i){"use strict";i.d(n,{a:function(){return v}});var a=i(64762),u=i(91601),o=i(46655),s=i(19773),c=i(88002),f=i(57057),l=i(45435),d=i(23065),h=i(4242),p=i(37716),y=i(62827),v=function t(n,i,a){var p=this;r(this,t),this.actions$=n,this.patientsService=i,this.store=a,this.loadPatient$=this.actions$.pipe((0,u.l4)(o.Lg.PatientRequested),(0,s.zg)(function(t){return p.patientsService.findPatientById(t.payload.patientId)}),(0,c.U)(function(t){return new o.Cl({patient:t})})),this.loadAllPatients$=this.actions$.pipe((0,u.l4)(o.Lg.AllPatientsRequested),(0,f.M)(this.store.pipe((0,d.Ys)(h.AU))),(0,l.h)(function(t){return!e(t,2)[1]}),(0,s.zg)(function(){return p.patientsService.findAllPatients()}),(0,c.U)(function(t){return new o.CX({patients:t})}))};v.\u0275fac=function(t){return new(t||v)(p["\u0275\u0275inject"](u.eX),p["\u0275\u0275inject"](y.$),p["\u0275\u0275inject"](d.yh))},v.\u0275prov=p["\u0275\u0275defineInjectable"]({token:v,factory:v.\u0275fac}),(0,a.gn)([(0,u.Qm)()],v.prototype,"loadPatient$",void 0),(0,a.gn)([(0,u.Qm)()],v.prototype,"loadAllPatients$",void 0)},65476:function(t,n,e){"use strict";e.d(n,{Sx:function(){return o},td:function(){return s}});var i=e(80273),r=e(46655),a=(0,i.H)(),u=a.getInitialState({allPatientsLoaded:!1});function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case r.Lg.PatientLoaded:return a.addOne(n.payload.patient,t);case r.Lg.AllPatientsLoaded:return a.setAll(n.payload.patients,Object.assign(Object.assign({},t),{allPatientsLoaded:!0}));case r.Lg.PatientSaved:return a.updateOne(n.payload.patient,t);default:return t}}var s=a.getSelectors().selectAll},10758:function(t,e,i){"use strict";i.d(e,{N:function(){return d}});var a=i(23065),u=i(93342),o=i(45435),s=i(28049),c=i(4242),f=i(46655),l=i(37716),d=function(){var t=function(){function t(n){r(this,t),this.store=n}return n(t,[{key:"resolve",value:function(t,n){var e=this,i=t.params.id;return this.store.pipe((0,a.Ys)((0,c.XX)(i)),(0,u.b)(function(t){t||e.store.dispatch(new f.$l({patientId:i}))}),(0,o.h)(function(t){return!!t}),(0,s.P)())}}]),t}();return t.\u0275fac=function(n){return new(n||t)(l["\u0275\u0275inject"](a.yh))},t.\u0275prov=l["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t}()},4242:function(t,n,e){"use strict";e.d(n,{XX:function(){return u},QD:function(){return o},AU:function(){return s}});var i=e(23065),r=e(65476),a=(0,i.ZF)("patients"),u=function(t){return(0,i.P1)(a,function(n){return n.entities[t]})},o=(0,i.P1)(a,r.td),s=(0,i.P1)(a,function(t){return t.allPatientsLoaded})},62827:function(t,e,i){"use strict";i.d(e,{$:function(){return l}});var a=i(88002),u=i(37716),o=i(91841),s=i(486),c=function t(n,e,i,a,u,o,s,c,f,l,d,h){r(this,t),this.id=n,this.user_id=e,this.name=i,this.phone=a,this.email=u,this.sex=o,this.birth_date=s,this.blood_group=c,this.id_no=f,this.nhif_no=l,this.usr_img=d,this.doctor_id=h},f=function(){var t=function(){function t(){r(this,t)}return n(t,[{key:"adapt",value:function(t){return new c(t.id,t.user_id,t.user.first_name+" "+t.user.other_name,t.user.phone1_code+t.user.phone1_number,t.user.email,t.user.sex,t.user.birth_date,t.user.blood_group,t.user.id_no,t.user.nhif_no,t.user.usr_img,t.doctor_id)}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=u["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),l=function(){var t=function(){function t(n,e,i){r(this,t),this.http=n,this.jarwis=e,this.adapter=i}return n(t,[{key:"findPatientById",value:function(t){return this.http.get(this.jarwis.apiUrl+"/patients/".concat(t))}},{key:"findAllPatients",value:function(){var t=this;return this.jarwis.getURI("patients").pipe((0,a.U)(function(n){return n.data.map(function(n){return t.adapter.adapt(n)})}))}},{key:"savePatient",value:function(t,n){return this.http.put("/api/patients/"+t,n)}}]),t}();return t.\u0275fac=function(n){return new(n||t)(u["\u0275\u0275inject"](o.eN),u["\u0275\u0275inject"](s.R),u["\u0275\u0275inject"](f))},t.\u0275prov=u["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t}()}}])}();